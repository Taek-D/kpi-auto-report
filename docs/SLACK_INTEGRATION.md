# Slack ì—°ë™ ê°€ì´ë“œ

## ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” n8n Code Nodeì—ì„œ `this.helpers.httpRequest()`ë¥¼ ì‚¬ìš©í•˜ì—¬ Slack Incoming Webhookìœ¼ë¡œ ì•³í™ˆ KPI ë¦¬í¬íŠ¸ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.

---

## Webhook ì„¤ì •

### 1. Slack App ìƒì„±

1. https://api.slack.com/apps ì ‘ì†
2. "Create New App" > "From scratch"
3. App Name: `ì•³í™ˆ KPI Reporter`, Workspace ì„ íƒ

### 2. Incoming Webhooks í™œì„±í™”

1. Features > Incoming Webhooks > Activate
2. "Add New Webhook to Workspace"
3. ì±„ë„ ì„ íƒ (ì˜ˆ: `#athome-kpis`)
4. Webhook URL ë³µì‚¬

### 3. Webhook URL í…ŒìŠ¤íŠ¸

```bash
curl -X POST https://hooks.slack.com/services/YOUR/WEBHOOK/URL \
  -H 'Content-Type: application/json' \
  -d '{"text": "ì•³í™ˆ KPI ë¦¬í¬íŠ¸ ì—°ë™ í…ŒìŠ¤íŠ¸ ì„±ê³µ!"}'
```

---

## n8nì—ì„œì˜ êµ¬í˜„

### ì™œ Code Nodeì¸ê°€?

n8n HTTP Request ë…¸ë“œì˜ JSON body ëª¨ë“œì—ì„œ ì¤„ë°”ê¿ˆ(`\n`) í¬í•¨ ë¬¸ìì—´ì„ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆì–´, Code Node + `this.helpers.httpRequest()`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

### slack_send.js êµ¬ì¡°

```javascript
// 1. ì´ì „ ë…¸ë“œì—ì„œ ë©”ì‹œì§€ ìˆ˜ì‹ 
const items = $input.all();
const message = items[0].json.message;

// 2. Slack Webhook ì „ì†¡
const SLACK_WEBHOOK_URL = 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL';

await this.helpers.httpRequest({
  method: 'POST',
  url: SLACK_WEBHOOK_URL,
  body: { text: message },
  json: true
});

// 3. ì „ì†¡ ê²°ê³¼ ë°˜í™˜
return [{ json: { status: 'sent', title: 'ì•³í™ˆ Daily KPI ë¦¬í¬íŠ¸' } }];
```

---

## ë©”ì‹œì§€ í¬ë§·

### ì „ì²´ ë©”ì‹œì§€ êµ¬ì¡° (v2 - ì•³í™ˆ ë§ì¶¤)

```
ğŸ“Š ì•³í™ˆ Daily KPI ë¦¬í¬íŠ¸ | 2026-02-13

ì „ì²´ ì‹¤ì  (ì–´ì œ ê¸°ì¤€)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’° ì´ ë§¤ì¶œ: â‚©29,920,000 (+18.5% â†‘)
ğŸ“¦ ì´ ì£¼ë¬¸: 434ê±´ (+17.2% â†‘)

ë¸Œëœë“œë³„ ì‹¤ì 
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ  ë¯¸ë‹‰ìŠ¤
  ë§¤ì¶œ: â‚©12,430,000 (+50.7% â†‘)
  ì£¼ë¬¸: 131ê±´ | ROAS: 6.9 (coupang 33.2%, gs_home 28.2%)

ğŸ’† í†°
  ë§¤ì¶œ: â‚©11,260,000 (+102.2% â†‘)
  ì£¼ë¬¸: 103ê±´ | ROAS: 6.1 (gs_home 46.2%, coupang 20.8%)

ğŸ’ª í”„ë¡œí‹°ì›
  ë§¤ì¶œ: â‚©6,230,000 (+7.8% â†‘)
  ì£¼ë¬¸: 200ê±´ | ROAS: 5.8 (coupang 35.0%, oliveyoung 26.5%)

ğŸ† ë§¤ì¶œ Top 5 ì œí’ˆ
1. í†° ë”ê¸€ë¡œìš° í”„ë¡œ [í†°]: â‚©5,960,000 â˜…4.8
2. ë¯¸ë‹‰ìŠ¤ ì‹ê¸°ì„¸ì²™ê¸° [ë¯¸ë‹‰ìŠ¤]: â‚©4,590,000 â˜…4.6
3. ë¯¸ë‹‰ìŠ¤ ë¯¸ë‹ˆê±´ì¡°ê¸° [ë¯¸ë‹‰ìŠ¤]: â‚©3,490,000 â˜…4.8
4. ë¯¸ë‹‰ìŠ¤ ë”í”Œë Œë” [ë¯¸ë‹‰ìŠ¤]: â‚©2,670,000 â˜…4.7
5. í†° ë”ê¸€ë¡œìš° [í†°]: â‚©2,376,000 â˜…4.6

ğŸ” ê²½ìŸì‚¬ ëª¨ë‹ˆí„°ë§
ğŸ“ˆ ë¯¸ë‹‰ìŠ¤ ìŒì‹ë¬¼ì²˜ë¦¬ê¸° [coupang] 4ìœ„â†’3ìœ„ (ìƒìŠ¹)
ğŸ“ˆ í†° ë”ê¸€ë¡œìš° í”„ë¡œ [coupang] 4ìœ„â†’3ìœ„ (ìƒìŠ¹)
ğŸ’° ë¦°í´ ë£¨íœ SLW-03 [ë¦°í´] â‚©10,000 ì¸í•˜

â° ë¦¬í¬íŠ¸ ìƒì„±: 08:00:12
```

### ì´ìƒ íƒì§€ ì•Œë¦¼ (ì¡°ê±´ ì¶©ì¡± ì‹œ ì¶”ê°€)

```
ğŸ”” ì´ìƒ ê°ì§€
ğŸš¨ ë¯¸ë‹‰ìŠ¤: ë§¤ì¶œ 25.3% ê°ì†Œ
âš ï¸ í”„ë¡œí‹°ì›: ì£¼ë¬¸ 18.1% ê°ì†Œ
```

**ë¸Œëœë“œë³„ ì„ê³„ê°’:**
| ë¸Œëœë“œ | ë§¤ì¶œ Critical | ì£¼ë¬¸ Warning | ë¹„ê³  |
|--------|-------------|-------------|------|
| ë¯¸ë‹‰ìŠ¤ | -20% | -15% | ê¸°ë³¸ |
| í†° | -30% | -25% | í™ˆì‡¼í•‘ ë°©ì†¡ì¼ ë³€ë™ ê°ì•ˆ |
| í”„ë¡œí‹°ì› | -20% | -15% | ê¸°ë³¸ |

### ë°ì´í„° ì—†ìŒ ì²˜ë¦¬

```
ğŸ“Š ì•³í™ˆ Daily KPI ë¦¬í¬íŠ¸ | 2026-02-13

âš ï¸ ì–´ì œ ë‚ ì§œì— ëŒ€í•œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë°ì´í„° ì†ŒìŠ¤ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.
```

---

## Slack í…ìŠ¤íŠ¸ í¬ë§·íŒ…

| í¬ë§· | Slack ë¬¸ë²• | ì˜ˆì‹œ |
|------|-----------|------|
| êµµê²Œ | `*í…ìŠ¤íŠ¸*` | **í…ìŠ¤íŠ¸** |
| ê¸°ìš¸ì„ | `_í…ìŠ¤íŠ¸_` | _í…ìŠ¤íŠ¸_ |
| ì½”ë“œ | `` `ì½”ë“œ` `` | `ì½”ë“œ` |

### ì´ëª¨ì§€ ë§¤í•‘

| ì´ëª¨ì§€ | ìš©ë„ |
|--------|------|
| ğŸ“Š | ë¦¬í¬íŠ¸ í—¤ë” |
| ğŸ’° | ë§¤ì¶œ |
| ğŸ“¦ | ì£¼ë¬¸ ìˆ˜ |
| ğŸ  | ë¯¸ë‹‰ìŠ¤ ë¸Œëœë“œ |
| ğŸ’† | í†° ë¸Œëœë“œ |
| ğŸ’ª | í”„ë¡œí‹°ì› ë¸Œëœë“œ |
| ğŸ† | ìƒìœ„ ì œí’ˆ |
| ğŸ” | ê²½ìŸì‚¬ ëª¨ë‹ˆí„°ë§ |
| ğŸ“ˆ/ğŸ“‰ | ìˆœìœ„ ìƒìŠ¹/í•˜ë½ |
| ğŸš¨ | Critical ì•Œë¦¼ |
| âš ï¸ | Warning ì•Œë¦¼ |

---

## ë¬¸ì œ í•´ê²°

### "Bad request - no_text" ì—ëŸ¬

- **ì›ì¸**: Slackì´ `text` í•„ë“œë¥¼ ì°¾ì§€ ëª»í•¨
- **í•´ê²°**: `body: { text: message }`ì™€ `json: true` ì˜µì…˜ í™•ì¸

### Webhook URL ë§Œë£Œ

- Slack Webhook URLì€ ë§Œë£Œë˜ì§€ ì•Šì§€ë§Œ, Appì´ ì‚­ì œë˜ë©´ ë¬´íš¨í™”ë¨
- ìƒˆ URL ë°œê¸‰: Slack App > Incoming Webhooks > "Add New Webhook"

---

## ì°¸ê³  ìë£Œ

- [Slack Incoming Webhooks ê³µì‹ ë¬¸ì„œ](https://api.slack.com/messaging/webhooks)
- [Slack ë©”ì‹œì§€ í¬ë§·íŒ… ê°€ì´ë“œ](https://api.slack.com/reference/surfaces/formatting)

---

**ë‹¤ìŒ**: [SQL ì¿¼ë¦¬ ìƒì„¸ ê°€ì´ë“œ](SQL_GUIDE.md)
