-- ============================================================================
-- Extended Competitor Data: 8 Weeks (2025-12-23 ~ 2026-02-12)
-- Purpose: 장기 경쟁사 가격/순위 추이 분석용
-- Pattern:
--   - 스마트카라: 1월 초 할인(₩599K→₩549K), 2월 복원
--   - 린클: 꾸준한 가격 하락 (₩508K→₩498K)
--   - LG 프라엘: 가격 안정, 리뷰 꾸준 증가
--   - 앳홈 제품: 순위 점진 상승 (신규 진입 → 안착)
-- UPSERT: 기존 02-05, 02-12 데이터와 충돌 방지
-- ============================================================================

INSERT INTO market_competitors (crawl_date, source, category, product_name, brand, price, ranking, review_count, avg_rating) VALUES

-- ===== Week 1: 2025-12-23 =====
('2025-12-23', 'coupang', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   599000, 1, 14200, 4.6),
('2025-12-23', 'coupang', '음식물처리기', '린클 루펜 SLW-03',        '린클',        508000, 2, 8200,  4.5),
('2025-12-23', 'coupang', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 5, 1680,  4.7),
('2025-12-23', 'coupang', '식기세척기',   '미닉스 식기세척기',        '앳홈(미닉스)',  459000, 7, 1480,  4.5),
('2025-12-23', 'coupang', '소형건조기',   '미닉스 미니건조기',        '앳홈(미닉스)',  349000, 5, 2850,  4.7),
('2025-12-23', 'coupang', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          398000, 1, 11200, 4.7),
('2025-12-23', 'coupang', '뷰티디바이스', '페이스팩토리 LED 마스크',    '페이스팩토리',  189000, 2, 6100,  4.4),
('2025-12-23', 'coupang', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 5, 3800,  4.7),
('2025-12-23', 'coupang', '뷰티디바이스', '톰 더글로우',              '앳홈(톰)',     198000, 8, 2480,  4.5),
('2025-12-23', 'naver', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   589000, 1, 8100,  4.5),
('2025-12-23', 'naver', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 4, 920,   4.8),
('2025-12-23', 'naver', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          389000, 1, 6900,  4.7),
('2025-12-23', 'naver', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 4, 1850,  4.7),

-- ===== Week 2: 2025-12-30 =====
('2025-12-30', 'coupang', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   599000, 1, 14380, 4.6),
('2025-12-30', 'coupang', '음식물처리기', '린클 루펜 SLW-03',        '린클',        506000, 2, 8320,  4.5),
('2025-12-30', 'coupang', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 5, 1750,  4.7),
('2025-12-30', 'coupang', '식기세척기',   '미닉스 식기세척기',        '앳홈(미닉스)',  459000, 7, 1540,  4.5),
('2025-12-30', 'coupang', '소형건조기',   '미닉스 미니건조기',        '앳홈(미닉스)',  349000, 5, 2920,  4.7),
('2025-12-30', 'coupang', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          398000, 1, 11400, 4.7),
('2025-12-30', 'coupang', '뷰티디바이스', '페이스팩토리 LED 마스크',    '페이스팩토리',  189000, 2, 6220,  4.4),
('2025-12-30', 'coupang', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 5, 3900,  4.7),
('2025-12-30', 'coupang', '뷰티디바이스', '톰 더글로우',              '앳홈(톰)',     198000, 8, 2540,  4.5),
('2025-12-30', 'naver', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   589000, 1, 8220,  4.5),
('2025-12-30', 'naver', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 4, 960,   4.8),
('2025-12-30', 'naver', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          389000, 1, 7050,  4.7),
('2025-12-30', 'naver', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 4, 1920,  4.7),

-- ===== Week 3: 2026-01-06 - 스마트카라 신년 할인 시작 =====
('2026-01-06', 'coupang', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   549000, 1, 14580, 4.6),
('2026-01-06', 'coupang', '음식물처리기', '린클 루펜 SLW-03',        '린클',        505000, 2, 8450,  4.5),
('2026-01-06', 'coupang', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 5, 1820,  4.8),
('2026-01-06', 'coupang', '식기세척기',   '미닉스 식기세척기',        '앳홈(미닉스)',  459000, 6, 1600,  4.6),
('2026-01-06', 'coupang', '소형건조기',   '미닉스 미니건조기',        '앳홈(미닉스)',  349000, 4, 3000,  4.7),
('2026-01-06', 'coupang', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          398000, 1, 11600, 4.7),
('2026-01-06', 'coupang', '뷰티디바이스', '페이스팩토리 LED 마스크',    '페이스팩토리',  189000, 2, 6340,  4.4),
('2026-01-06', 'coupang', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 4, 4020,  4.7),
('2026-01-06', 'coupang', '뷰티디바이스', '톰 더글로우',              '앳홈(톰)',     198000, 7, 2610,  4.6),
('2026-01-06', 'naver', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   539000, 1, 8350,  4.5),
('2026-01-06', 'naver', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 3, 1020,  4.8),
('2026-01-06', 'naver', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          389000, 1, 7180,  4.7),
('2026-01-06', 'naver', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 3, 2000,  4.7),

-- ===== Week 4: 2026-01-13 - 스마트카라 할인 유지 =====
('2026-01-13', 'coupang', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   549000, 1, 14800, 4.6),
('2026-01-13', 'coupang', '음식물처리기', '린클 루펜 SLW-03',        '린클',        503000, 2, 8580,  4.5),
('2026-01-13', 'coupang', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 4, 1900,  4.8),
('2026-01-13', 'coupang', '식기세척기',   '미닉스 식기세척기',        '앳홈(미닉스)',  459000, 6, 1650,  4.6),
('2026-01-13', 'coupang', '소형건조기',   '미닉스 미니건조기',        '앳홈(미닉스)',  349000, 4, 3080,  4.7),
('2026-01-13', 'coupang', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          398000, 1, 11800, 4.7),
('2026-01-13', 'coupang', '뷰티디바이스', '페이스팩토리 LED 마스크',    '페이스팩토리',  189000, 2, 6450,  4.4),
('2026-01-13', 'coupang', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 4, 4150,  4.8),
('2026-01-13', 'coupang', '뷰티디바이스', '톰 더글로우',              '앳홈(톰)',     198000, 7, 2680,  4.6),
('2026-01-13', 'naver', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   539000, 1, 8480,  4.5),
('2026-01-13', 'naver', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 3, 1080,  4.8),
('2026-01-13', 'naver', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          389000, 1, 7300,  4.7),
('2026-01-13', 'naver', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 3, 2080,  4.7),

-- ===== Week 5: 2026-01-20 - 스마트카라 할인 종료, 가격 복원 시작 =====
('2026-01-20', 'coupang', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   579000, 1, 14950, 4.6),
('2026-01-20', 'coupang', '음식물처리기', '린클 루펜 SLW-03',        '린클',        502000, 2, 8680,  4.5),
('2026-01-20', 'coupang', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 4, 1980,  4.8),
('2026-01-20', 'coupang', '식기세척기',   '미닉스 식기세척기',        '앳홈(미닉스)',  459000, 6, 1700,  4.6),
('2026-01-20', 'coupang', '소형건조기',   '미닉스 미니건조기',        '앳홈(미닉스)',  349000, 4, 3160,  4.8),
('2026-01-20', 'coupang', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          398000, 1, 11950, 4.7),
('2026-01-20', 'coupang', '뷰티디바이스', '페이스팩토리 LED 마스크',    '페이스팩토리',  189000, 2, 6550,  4.4),
('2026-01-20', 'coupang', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 4, 4280,  4.8),
('2026-01-20', 'coupang', '뷰티디바이스', '톰 더글로우',              '앳홈(톰)',     198000, 7, 2750,  4.6),
('2026-01-20', 'naver', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   569000, 1, 8600,  4.5),
('2026-01-20', 'naver', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 3, 1140,  4.8),
('2026-01-20', 'naver', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          389000, 1, 7420,  4.7),
('2026-01-20', 'naver', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 3, 2160,  4.8),

-- ===== Week 6: 2026-01-27 - 스마트카라 가격 복원 중 =====
('2026-01-27', 'coupang', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   589000, 1, 15050, 4.6),
('2026-01-27', 'coupang', '음식물처리기', '린클 루펜 SLW-03',        '린클',        500000, 2, 8800,  4.5),
('2026-01-27', 'coupang', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 4, 2050,  4.8),
('2026-01-27', 'coupang', '식기세척기',   '미닉스 식기세척기',        '앳홈(미닉스)',  459000, 5, 1760,  4.6),
('2026-01-27', 'coupang', '소형건조기',   '미닉스 미니건조기',        '앳홈(미닉스)',  349000, 3, 3280,  4.8),
('2026-01-27', 'coupang', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          398000, 1, 12050, 4.7),
('2026-01-27', 'coupang', '뷰티디바이스', '페이스팩토리 LED 마스크',    '페이스팩토리',  189000, 2, 6650,  4.4),
('2026-01-27', 'coupang', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 4, 4400,  4.8),
('2026-01-27', 'coupang', '뷰티디바이스', '톰 더글로우',              '앳홈(톰)',     198000, 7, 2820,  4.6),
('2026-01-27', 'naver', '음식물처리기', '스마트카라 PCS-400',      '스마트카라',   579000, 1, 8750,  4.5),
('2026-01-27', 'naver', '음식물처리기', '미닉스 음식물처리기',      '앳홈(미닉스)',  690000, 3, 1200,  4.8),
('2026-01-27', 'naver', '뷰티디바이스', 'LG 프라엘 더마 LED 마스크', 'LG',          389000, 1, 7540,  4.7),
('2026-01-27', 'naver', '뷰티디바이스', '톰 더글로우 프로',          '앳홈(톰)',     298000, 3, 2260,  4.8)

-- Week 7 (02-05) and Week 8 (02-12) already exist in market_competitors.sql

ON CONFLICT (crawl_date, source, product_name) DO UPDATE SET
    brand = EXCLUDED.brand,
    price = EXCLUDED.price,
    ranking = EXCLUDED.ranking,
    review_count = EXCLUDED.review_count,
    avg_rating = EXCLUDED.avg_rating;

-- ============================================================================
-- 데이터 검증: 8주 데이터 확인
-- ============================================================================
SELECT
    crawl_date,
    COUNT(*) AS products,
    COUNT(DISTINCT brand) AS brands,
    MIN(price) AS min_price,
    MAX(price) AS max_price
FROM market_competitors
GROUP BY crawl_date
ORDER BY crawl_date;
